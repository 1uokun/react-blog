<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>æŠ½ç¦»é™¤å…¬å…±ç»„ä»¶ç±»Componet</title>
</head>
<body>
<div id="root"></div>
<!--<script>
    //åŸç†
    class Component {
        //public
        setState(state){
            this.state=state;
        }
    }

    //ç»§æ‰¿setState
    class D extends Component {
        constructor(props){
            //superç»§æ‰¿çˆ¶ç±»æ‰€æœ‰æˆå‘˜å˜é‡ -- java
            //å¦‚æœå­ç±»ä¸­å­˜åœ¨æ„é€ å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨ä½¿ç”¨â€œthisâ€ä¹‹å‰é¦–å…ˆè°ƒç”¨ super()ã€‚ --javascript
            super(props);
            this.state = {isLike:false}
        }

    }

    const d = new D();
    console.log(d.state)
    d.setState({isLike:true})
    console.log(d.state)
</script>-->
<script src="Component.js"></script>
<script>
    class D extends Component {
        constructor(props){
            super(props)
            this.state = {isLiked:false}
        }

        onClick () {
            this.setState({
                isLiked: !this.state.isLiked
            })
        }

        render(){
            return `
            <button class='like-btn'>
              <span class='like-text'>${this.state.isLiked ? 'å–æ¶ˆ' : 'ç‚¹èµ'}</span>
              <span>ğŸ‘</span>
            </button>
    `}
    }

    //è‡ªç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„_renderDOMæ–¹æ³•
    const wrapper = document.getElementById("root")
    const d = new D();
    // wrapper.appendChild(d._renderDOM())
    // d.onStateChange = (oldEl, newEl)=>{
    //     console.log(oldEl, newEl)
    //     wrapper.insertBefore(newEl, oldEl)
    //     wrapper.removeChild(oldEl)
    // }
    //å°†52-57æ–¹æ³•æŠ½ç¦»å‡ºæ¥åšä¸€ä¸ªå…¬å…±æ–¹æ³•
    const mount = (wrapper,component)=>{
        wrapper.appendChild(component._renderDOM())
        component.onStateChange = (oldEl,newEl)=>{
            wrapper.insertBefore(newEl, oldEl)
            wrapper.removeChild(oldEl)
        }
    }
    mount(wrapper,d)
</script>
</body>
</html>